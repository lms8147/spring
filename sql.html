<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	$("#table_data").on("propertychange change keyup paste input", function() {
		make_sql();
	});
	
	String.prototype.format = function() {
	  a = this;
	  for (k in arguments) {
		a = a.replace("{" + k + "}", arguments[k])
	  }
	  return a
	};
});

function make_sql(){
	var table_str = $("#table_data").val();
	var table_arr = table_str.split("\n");
	var table_name = $.trim(table_arr[0]);
	var table_header = $.trim(table_arr[1]).split(/[\n# $&:\n\t]/g);
	var table_records = new Array();
	for (var i = 2, r = 0; i < table_arr.length; i++) {
		var row_trim = $.trim(table_arr[i]);
		if (row_trim == "") {
			continue;
		}
		var row = row_trim.split(/[\n# $&:\n\t]/g);
		var record = new Array();
		for (var c = 0; c < row.length; c++) {
			var col = $.trim(row[c]).split(/=(.*)/g);
			if (col.length == 1) {
				record[c] = "'{0}'".format(col[0]);
			} else {
				record[c] = col[1];
			}
		}
		table_records[r++] = record;
	}
	var insert_sqls = new Array();
	for (var r = 0; r < table_records.length; r++) {
		var insert_sql = "INSERT INTO {0}({1}) VALUES({2});"
		.format(table_name, table_header.join(","), table_records[r].join(","));
		insert_sqls[r] = insert_sql;
	}
	
	var multi_insert_sql = insert_sqls.join("\n");
	
	$("#sql_data").val(multi_insert_sql);
	
};
</script>
<title>MAKE SQL</title>
</head>

<body>
	<form>
		<p><textarea id="table_data" cols="50" rows="10" ></textarea></p>
		<p><textarea id="sql_data" cols="50" rows="10"></textarea></p>
	</form>
</body>

</html>